# Composition&Inheritance

## 组合

+ 组合是一种防止通过其它对象的委托功能实现代码复制的技术。举例，`Party`类可能有一种委托方法调用`List`对象，为列表提供一种方法。这允许`Party`类有选择的暴露`addGuest()`而不是暴露`List`接口的所有方法。

## 继承

+ 继承是通过继承父类对象的方法来防止代码复制的技术。举例，`Party`类可能提供一个列表的`ArrayList`。这个*This would allow Party objects to be used in enhanced for-loops or methods that accept a List.*。不允许多重继承是为了防止二义性，当多个父类独立实现了相同的特性时。这个二义性由于对象继承的形状，也被称为钻石问题（致命的死亡钻石）

## 方法重写vs方法重载

+ 方法重写允许子类改变父类的功能。这一般发生在当子类定义和父类相同的方法和参数的非静态方法时。在Java5中，重写方法的可以和父类一样的类型或者*covariant*（子类）的返回类型。当对象转换为父类类型时，重载方法会被调用 。
+ 重写方法通常会和重载方法搞混。重载方法一般发生在，当类中有两个或多个方法有相同的名称但却是不同的参数名称时。方法重载提供了灵活的API，允许客户端去调用*客户机调用适当的方法版本的灵活性不必为可选参数传递空值*。

## 组合vs继承

+ 组合与继承都提供了代码重用，但很难说哪个关系更合适？作为通用的规则，问两个对象之间是has-a还是is-a的关系。举例，聚会has-a客人列表，它表示`Party`应该由`List`组合。另一方面，学生is-a人，所以`Student`类应该继承在`Person`类。
+ 虽然两个方法都很强大，但它们都有各自的弱点。组合需要委托代码和除非有多余的接口否则要防止多态性。继承强制*rigid*对象的层次关系，两个类的之间的紧耦合。当有疑问时，组合是首选方法，因为它比继承更具有灵活性。

## 问题

1. 组合和继承之间有什么区别？
2. 方法重写（overriding）和方法重载（overloading）有什么区别？
3. 如何决定何时使用组合或继承？